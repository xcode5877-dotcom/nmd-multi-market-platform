import{b as q,r as f,j as e,o as F,c as $,d as v,E as k,B as j,S as y,m as N,q as A,L as M,f as H,M as _}from"./index-DqbWLIhh.js";import{P as D}from"./ProductCard-C-apWdln.js";import{C as U,P as B}from"./CategoryTabsSkeleton-CNpOOc5O.js";import"./cart-_Jxk0B-k.js";import"./shopping-cart-Cv9GfYq0.js";const C="aspect-[3/1] min-h-[160px]",L="mt-4 px-6 py-2 rounded-full bg-white text-gray-900 font-medium hover:bg-gray-100 transition-colors",z={title:"Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ",subtitle:"Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ø¯ÙŠÙ†Ø§",ctaText:"ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†",ctaLink:"#",ctaHref:"#"};function K(o,r){const i=[];return o&&i.push({type:"hero",hero:o}),(r??[]).filter(l=>(l.isActive??l.enabled??!0)&&l.imageUrl).sort((l,d)=>(l.sortOrder??0)-(d.sortOrder??0)).forEach(l=>i.push({type:"banner",banner:l})),i.length===0&&o===void 0&&i.push({type:"hero",hero:z}),i}function R(o,r){const n=new Date(o).getTime()-r;if(n<=0)return null;const l=Math.floor(n/36e5),d=Math.floor(n%36e5/6e4),m=Math.floor(n%6e4/1e3);return`${String(l).padStart(2,"0")}:${String(d).padStart(2,"0")}:${String(m).padStart(2,"0")}`}function O({hero:o,banners:r}){const i=q(),n=f.useMemo(()=>K(o??null,r??[]),[o,r]),[l,d]=f.useState(0),[m,g]=f.useState(()=>Date.now());if(f.useEffect(()=>{if(n.length<=1)return;const a=setInterval(()=>d(c=>(c+1)%n.length),5e3);return()=>clearInterval(a)},[n.length]),f.useEffect(()=>{const a=setInterval(()=>g(Date.now()),1e3);return()=>clearInterval(a)},[]),n.length===0)return null;const u=n[l],h=a=>a.ctaHref??a.ctaLink??"#",b=()=>{if(u.type==="hero"){const t=u.hero,s=h(t);return t.imageUrl?e.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-gray-100 ${C}`,children:[e.jsx("img",{src:t.imageUrl,alt:"",className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center bg-black/40 p-6 text-white text-center",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:t.title}),t.subtitle&&e.jsx("p",{className:"text-lg mt-2 opacity-90",children:t.subtitle}),t.ctaText&&s&&e.jsx("button",{type:"button",onClick:()=>{s.startsWith("/")?i(s):window.location.href=s},className:L,children:t.ctaText})]})]}):e.jsxs("div",{className:`rounded-2xl bg-gradient-to-b from-primary/5 to-transparent p-6 md:p-8 flex flex-col justify-center ${C}`,children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:t.subtitle}),t.ctaText&&s&&e.jsx("button",{type:"button",onClick:()=>{s.startsWith("/")?i(s):window.location.href=s},className:"inline-block w-fit px-6 py-2 rounded-full bg-primary text-white font-medium hover:opacity-90 transition-opacity",children:t.ctaText})]})}const a=u.banner,c=a.ctaHref??a.link??"",x=a.showCountdown!==!1&&a.expiresAt&&a.expiresAt?R(a.expiresAt,m):null;return e.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-gray-100 ${C}`,children:[e.jsx("img",{src:a.imageUrl,alt:a.title??"",className:"w-full h-full object-cover"}),x&&e.jsx("div",{className:"absolute top-3 start-3 z-10",children:e.jsxs("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-black/60 text-white backdrop-blur-sm",children:["ÙŠÙ†ØªÙ‡ÙŠ Ø®Ù„Ø§Ù„ ",x]})}),(a.title||a.subtitle||a.ctaText)&&e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center bg-black/30 p-6 text-white text-center",children:[a.title&&e.jsx("h2",{className:"text-xl md:text-2xl font-bold",children:a.title}),a.subtitle&&e.jsx("p",{className:"text-sm md:text-base mt-1",children:a.subtitle}),a.ctaText&&c&&e.jsx("button",{type:"button",onClick:()=>{c.startsWith("/")?i(c):window.location.href=c},className:`mt-3 ${L}`,children:a.ctaText})]})]})};return e.jsxs("div",{className:"relative",children:[b(),n.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:n.map((a,c)=>e.jsx("button",{type:"button",onClick:()=>d(c),className:`w-2.5 h-2.5 rounded-full transition-colors shadow-sm ${c===l?"bg-primary ring-2 ring-white/50":"bg-white/70 hover:bg-white"}`,"aria-label":`Slide ${c+1}`},c))})]})}const w=new _,S="/admin";function W({tenantId:o}){const{data:r}=v({queryKey:["campaigns",o],queryFn:()=>w.getCampaigns(o),enabled:!!o}),n=((r==null?void 0:r.filter(d=>d.status==="active"))??[]).sort((d,m)=>(m.priority??0)-(d.priority??0))[0];if(!n)return null;const l=n.type==="PERCENT"?`Ø®ØµÙ… ${n.value}%`:`Ø®ØµÙ… ${H(n.value)}`;return e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-primary/10 text-primary font-medium text-center",children:l})}function Z(){const{branding:o}=F(),r=$(t=>t.tenantId)??"default",i=$(t=>t.tenantSlug),n=o.hero,l=o.banners??[],d=t=>(t??[]).filter(s=>!s.parentId||s.parentId==="").filter(s=>s.isVisible!==!1),{data:m,isLoading:g,refetch:u}=v({queryKey:["menu",r],queryFn:()=>w.getMenu(r),enabled:!!r}),{data:h=[]}=v({queryKey:["products",r,"recent"],queryFn:()=>w.getProducts(r),enabled:!!r}),{data:b=[]}=v({queryKey:["campaigns",r],queryFn:()=>w.getCampaigns(r),enabled:!!r}),a=[...h].sort((t,s)=>{const p=t.createdAt??"0";return(s.createdAt??"0").localeCompare(p)}).slice(0,6),c=(()=>{const t=h.filter(s=>s.isFeatured===!0);if(t.length>=6)return t.slice(0,6);if(t.length>0){const s=h.filter(p=>!p.isFeatured).sort((p,E)=>{const P=p.createdAt??"0";return(E.createdAt??"0").localeCompare(P)});return[...t,...s].slice(0,6)}return a})(),T=$(t=>t.tenantName)??"",x=d(m??[]);return!g&&x.length===0&&(!m||m.length===0)?e.jsx("div",{className:"max-w-6xl mx-auto p-4",children:e.jsx(k,{title:"Ø§Ù„Ù…Ø­Ù„ Ø¬Ø§Ù‡Ø² âœ…",description:"Ù„Ø³Ù‡ Ù…Ø§ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ØªØµÙ†ÙŠÙØ§Øª Ø£Ùˆ Ù…Ù†ØªØ¬Ø§Øª.",icon:e.jsx("span",{className:"text-5xl",children:"ğŸ“¦"}),action:e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("a",{href:`${S}?tenant=${i||r}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(j,{children:"Ø§ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª"})}),e.jsx(j,{variant:"outline",onClick:()=>u(),children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]})})}):g?e.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[e.jsx(y,{className:"h-8 w-32 mb-4"}),e.jsx(U,{count:4}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[1,2,3,4].map(t=>e.jsx(y,{className:"h-32 rounded-xl"},t))}),e.jsx(y,{className:"h-40 w-full rounded-2xl mb-10"}),e.jsx(y,{className:"h-8 w-40 mb-4"}),e.jsx(B,{count:6,columns:"2-3-4"})]}):e.jsxs(N.div,{className:"max-w-6xl mx-auto p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[e.jsx(W,{tenantId:r}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ØªØµÙØ­ÙŠ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©"}),e.jsx("div",{className:"flex gap-6 overflow-x-auto pb-2 -mx-4 px-4 md:hidden [scrollbar-width:none] [&::-webkit-scrollbar]:hidden overscroll-x-contain",children:x.map(t=>e.jsx(A,{to:`/${i||r}/c/${t.id}`,className:({isActive:s})=>`group flex-shrink-0 relative pb-2 pt-1 text-base font-medium transition-colors duration-200 ${s?"text-primary font-semibold":"text-gray-500 hover:text-primary"}`,children:({isActive:s})=>e.jsxs(e.Fragment,{children:[t.name,e.jsx("span",{className:`absolute bottom-0 start-2 h-0.5 bg-primary transition-[width] duration-200 ease-out ${s?"w-[calc(100%-1rem)]":"w-0 group-hover:w-[calc(100%-1rem)]"}`})]})},t.id))}),e.jsx("div",{className:"hidden md:flex flex-wrap justify-center gap-8",children:x.map(t=>e.jsx(A,{to:`/${i||r}/c/${t.id}`,className:({isActive:s})=>`group relative pb-2 pt-1 text-lg font-medium transition-colors duration-200 ${s?"text-primary font-semibold":"text-gray-500 hover:text-primary"}`,children:({isActive:s})=>e.jsxs(e.Fragment,{children:[t.name,e.jsx("span",{className:`absolute bottom-0 start-2 h-0.5 bg-primary transition-[width] duration-200 ease-out ${s?"w-[calc(100%-1rem)]":"w-0 group-hover:w-[calc(100%-1rem)]"}`})]})},t.id))})]}),e.jsx(N.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-10",children:e.jsx(O,{hero:n,banners:l})}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:["Ù…Ø®ØªØ§Ø±Ø§Øª ",T," â­"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Ø£ÙØ¶Ù„ Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙ†Ø§ Ù„Ùƒ"}),c.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:c.map((t,s)=>e.jsx(N.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:s*.04},children:e.jsx(D,{product:t,campaigns:b})},t.id))}):e.jsx(k,{variant:"no-data",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ù…ÙŠØ²Ø©",description:"Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª ÙˆØ­Ø¯Ù‘Ø¯Ù‡Ø§ ÙƒÙ…Ù…ÙŠØ²Ø© ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",action:e.jsx("a",{href:`${S}?tenant=${i||r}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(j,{variant:"outline",size:"sm",children:"Ø§ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©"})})})]}),e.jsxs("section",{className:"mb-10",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"ÙˆØµÙ„ Ø­Ø¯ÙŠØ«Ù‹Ø§ ğŸ’«"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹"})]}),x[0]&&a.length>0&&e.jsx(M,{to:`/${i||r}/c/${x[0].id}`,className:"text-sm font-medium text-primary hover:underline",children:"Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„"})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a.map((t,s)=>e.jsx(N.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:s*.04},children:e.jsx(D,{product:t,campaigns:b})},t.id))}):e.jsx(k,{variant:"no-data",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø¯ÙŠØ«Ø©",description:"Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù„ØªØ¸Ù‡Ø± Ù‡Ù†Ø§",action:e.jsx("a",{href:`${S}?tenant=${i||r}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(j,{variant:"outline",size:"sm",children:"Ø§ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©"})})})]}),e.jsxs("section",{className:"mt-12 py-8 rounded-2xl bg-gradient-to-b from-gray-50 to-transparent",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø±Ù†Ø§"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-3 text-xl",children:"âœ“"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Ø¬ÙˆØ¯Ø© Ù…Ø¶Ù…ÙˆÙ†Ø©"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ù…Ù†ØªØ¬Ø§Øª Ø·Ø§Ø²Ø¬Ø© ÙˆØ§Ø®ØªÙŠØ§Ø± Ø¯Ù‚ÙŠÙ‚"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-3 text-xl",children:"âš¡"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÙˆØµÙˆÙ„ Ø·Ù„Ø¨Ùƒ Ø¨Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-3 text-xl",children:"ğŸ’¬"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Ø¯Ø¹Ù… ÙˆØ§ØªØ³Ø§Ø¨"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ"})]})]})]})]})}export{Z as default};
