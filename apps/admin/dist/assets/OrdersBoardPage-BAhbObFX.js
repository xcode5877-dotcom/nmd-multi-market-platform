import{u as c,b as x,j as e,P as m,C as o,f as u,g as f,c as h}from"./index-D0pSccYm.js";const i=["PENDING","CONFIRMED","PREPARING","READY","COMPLETED"],l={PENDING:"جديد",CONFIRMED:"مؤكد",PREPARING:"تحضير",READY:"جاهز",COMPLETED:"مكتمل"};function j(){const{tenantId:s}=c(),{data:d,refetch:n}=x({queryKey:["orders-board",s],queryFn:()=>Promise.resolve(h(s)),enabled:!!s,refetchInterval:5e3}),a=t=>(d??[]).filter(r=>r.status===t);return e.jsxs("div",{children:[e.jsx(m,{title:"لوحة الطلبات",subtitle:"اسحب الطلبات أو انقر للتنقل بين المراحل"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 overflow-x-auto pb-4",children:i.map(t=>e.jsxs("div",{className:"min-w-[200px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsx("h2",{className:"font-semibold text-sm text-gray-700",children:l[t]}),e.jsx("span",{className:"inline-flex items-center justify-center min-w-[1.5rem] h-6 px-1.5 rounded-full bg-primary/10 text-primary text-xs font-medium",children:a(t).length})]}),e.jsx("div",{className:"flex-1 min-h-[120px] rounded-lg bg-gray-100/50 p-2 space-y-2 flex flex-col",children:a(t).map(r=>e.jsx(p,{order:r,onAdvance:()=>n()},r.id))})]},t))})]})}function p({order:s,onAdvance:d}){const n=i.indexOf(s.status),a=n>=0&&n<i.length-1?i[n+1]:null,t=()=>{a&&(f(s.id,a),d())};return e.jsxs(o,{className:"p-3 text-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"font-mono font-medium",children:s.id.slice(0,8)}),e.jsx("div",{className:"text-primary font-bold text-base mt-0.5",children:u(s.total)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.items.length," صنف"]}),a&&e.jsxs("button",{onClick:t,className:"mt-2 w-full py-1.5 text-xs bg-primary text-white rounded-[var(--radius)] font-medium",children:["← ",l[a]]})]})}export{j as default};
