import{r as a,u as j,a as y,b as w,j as e}from"./index-BYQekpkv.js";function N(t){if(!t||typeof t!="string")return null;const s=decodeURIComponent(t);return!s.startsWith("/")||s.startsWith("//")?null:s}function E(){const[t,s]=a.useState(""),[l,b]=a.useState(""),[i,c]=a.useState(""),[d,u]=a.useState(!1),{login:p,token:m,isLoading:x}=j(),o=y(),[g]=w(),n=N(g.get("returnTo"));a.useEffect(()=>{!x&&m&&o(n??"/",{replace:!0})},[m,x,o,n]);async function h(r){r.preventDefault(),c(""),u(!0);try{await p(t.trim(),l),o(n??"/",{replace:!0})}catch(f){c(f instanceof Error?f.message:"Login failed")}finally{u(!1)}}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0F172A]",children:e.jsxs("div",{className:"w-full max-w-sm p-6 bg-[#1E293B] rounded-xl border border-[#334155] shadow-xl",children:[e.jsx("h1",{className:"text-xl font-bold text-white text-center mb-6",children:"NMD OS Control"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"البريد الإلكتروني"}),e.jsx("input",{type:"email",value:t,onChange:r=>s(r.target.value),className:"w-full px-3 py-2 bg-[#334155] text-white rounded-lg border border-[#475569] focus:border-[#7C3AED] focus:outline-none",placeholder:"admin@nmd.com",required:!0,autoComplete:"email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"كلمة المرور"}),e.jsx("input",{type:"password",value:l,onChange:r=>b(r.target.value),className:"w-full px-3 py-2 bg-[#334155] text-white rounded-lg border border-[#475569] focus:border-[#7C3AED] focus:outline-none",required:!0,autoComplete:"current-password"})]}),i&&e.jsx("p",{className:"text-red-400 text-sm",children:i}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-2 bg-[#7C3AED] hover:bg-[#6D28D9] disabled:opacity-50 text-white font-medium rounded-lg transition-colors",children:d?"جاري تسجيل الدخول...":"تسجيل الدخول"})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-500 text-center",children:"root@nmd.com / dab@nmd.com / iks@nmd.com — كلمة المرور: 123456"})]})})}export{E as default};
